plugins {
	id 'java'
    id 'java-library'
}

archivesBaseName = 'DeimosLauncher'

// Not release given only JavaCheck really needs to not use newer features
sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

dependencies {
	// Here to add them to the jar in the task below
	runtimeOnly project(':')
}

tasks.withType(Jar).configureEach {
	manifest {
		attributes(
			'Implementation-Version' : project.version,
			'Main-Class'             : 'illogicworks.marsmodding.ProdLauncher'
		)
	}
	// Add all libraries to the jar for ProdLauncher to extract
	from configurations.runtimeClasspath, {
		into "/META-INF/libs/"
	}
}

